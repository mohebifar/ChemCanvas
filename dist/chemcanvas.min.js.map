{"version":3,"file":"chemcanvas.min.js","sources":["chemcanvas.js"],"names":["root","_get","get","object","property","receiver","desc","Object","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","writable","value","getter","call","_inherits","subClass","superClass","TypeError","prototype","create","constructor","enumerable","configurable","__proto__","_prototypeProperties","child","staticProps","instanceProps","defineProperties","Canvas","renderer","this","world","LiThree","World","atoms","_display","_displays","_mode","_modes","_data","orbitHelper","OrbitHelper","_attachInteractive","attach","molecule","i","atom","addAtom","push","on","drawAtom","bonds","bond","drawBond","setMode","mode","down","up","setDisplay","display","unsetData","key","setData","arguments","getData","hasData","show","draw","_this","TWEEN","update","requestAnimationFrame","interactive","Interactive","quaternion","Math","Quaternion","matrix","origin","Vector3","speed","_getMatrix","rotate","dx","dy","r","sqrt","dq","cq","rs","sin","PI","x","cos","y","z","w","multiply","Matrix4","fromRotationTranslationScaleOrigin","BaseDisplay","canvas","_atoms","drawAll","BAS_KEY","BallAndStick","lights","drawLight","light","Light","Point","specularColor","rgb","position","radius","exp","pow","element","atomicRadius","sphere","ObjectFactory","Sphere","copy","material","shininess","color","hex","add","initShape","_orbitShader","shader","elements","scale","set","Tween","to","easing","Easing","Elastic","Out","start","cylinders","begin","end","beginD","endD","beginP","endP","beginC","endC","distance","middle","clone","divide","deltaX","deltaY","deltaZ","d","rotation","rotateZ","atan2","rotateY","asin","c","order","cylinder","Cylinder","_programCylinderShader","j","fragmentProgram","vertexProgram","clear","code","c2","uniform","toArray","hc","varying","lw","vp","p","vm","mm","om","initLighting","remove","EditorMode","_dragEvent","_clickEvent","_wheelEvent","off","camera","delta","Cubic","point","unproject","pos","Chem","Atom","atomicNumber","ray","Ray","fromPoints","resu","intersectTriangle","console","log","e","button","OrbitMode","preventDefault","ChemCanvas","Display","Mode","Orbit","Editor"],"mappings":"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"}